def generate_index_html(categories, template_path, output_path):
    with open(template_path, 'r', encoding='utf-8') as f:
        template = f.read()

    # Generate category thumbnail cards (with image + link)
    list_items = ""
    for cat in categories:
        list_items += f'''
        <li>
            <img src="{cat.get("image_url", "#")}" alt="{cat["title"]}">
            <a href="{cat["post_path"]}">{cat["emoji"]} {cat["title"]}</a>
        </li>
        '''

    # Generate SEO preview blocks below thumbnails
    post_divs = ""
    for cat in categories:
        post_divs += f"""
        <div class="post-preview">
            <h2><a href="{cat['post_path']}">{cat['emoji']} {cat['title']}</a></h2>
            <p>{cat['description']}</p>
        </div>
        """

    # Replace placeholders in the HTML template
    html_content = template.replace('{{CATEGORY_LINKS}}', list_items)
    html_content = html_content.replace('{{POST_DIVS}}', post_divs)

    # Ensure output directory exists
    os.makedirs(os.path.dirname(output_path), exist_ok=True)

    # Write final HTML
    with open(output_path, 'w', encoding='utf-8') as f:
        f.write(html_content)

    print(f"âœ… Generated {output_path}")
