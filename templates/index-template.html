<!-- Replaces only relevant new section in <body> -->

<section class="how-it-works">
  <h2>How It Works</h2>
  <ol>
    <li>
      <strong>Browse & Shop with Our Affiliate Links</strong><br />
      Explore our curated categories like Kitchen, Outdoors, Beauty, and more. Every link includes our affiliate tag so your support means everything.
    </li>
    <li>
      <strong>Try the Live Demo (One-Time Use)</strong><br />
      Want to see your own affiliate tag in action? Enter it once below. After your test, this input will be locked for security.
      <br /><br />
      <form id="demoForm">
        <input type="text" id="affiliateId" placeholder="Enter your Affiliate ID" required style="padding: 0.5rem; width: 60%;" />
        <button type="submit" id="demoButton" style="padding: 0.5rem 1rem;">Generate Demo</button>
      </form>
      <p id="demoStatus" style="color: green; margin-top: 0.5rem;"></p>
    </li>
    <li>
      <strong>Download the Full Demo ZIP</strong><br />
      Want to build your own? Run the terminal script on your machine and generate your affiliate blog. Use the <code>README</code> for setup.
    </li>
  </ol>
</section>

<script>
  const form = document.getElementById('demoForm');
  const button = document.getElementById('demoButton');
  const status = document.getElementById('demoStatus');

  if (localStorage.getItem('demoUsed') === 'true') {
    button.disabled = true;
    status.textContent = 'Demo already used in this session.';
  }

  form.addEventListener('submit', function(e) {
    e.preventDefault();
    const affId = document.getElementById('affiliateId').value.trim();
    if (affId) {
      localStorage.setItem('demoUsed', 'true');
      button.disabled = true;
      status.textContent = `Demo generated using ID: ${affId}`;
    }
  });
</script>
