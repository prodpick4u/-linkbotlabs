<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>AI Playground - LinkBotLabs</title>
<p style="font-size:0.9em; color:#aaa;">Powered by <a href="https://puter.com" target="_blank" style="color:#ff007a;">Puter AI</a></p>
<script src="https://js.puter.com/v2/"></script>
<style>
body { font-family: 'Segoe UI', sans-serif; margin:0; padding:0; background:#0d0d1a; color:#fff; }
header { padding:15px; background:#1a1a2e; text-align:center; }
main { padding:20px; max-width:800px; margin:auto; }
button { background:#ff007a; border:none; color:#fff; padding:12px 20px; border-radius:6px; cursor:pointer; margin-top:10px; }
button:hover { background:#e60070; }
.splash { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); color:#fff; display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center; padding:20px; z-index:1000; }
.splash h1 { font-size:2em; margin-bottom:10px; }
.splash ul, .splash ol { text-align:left; max-width:600px; }
.box { background: rgba(255,255,255,0.05); padding:15px; border-radius:8px; margin:15px 0; }
select,input,textarea { margin-top:5px; width:100%; padding:8px; border-radius:6px; border:none; }
#generatedImages img { max-width:100%; margin:10px 0; border-radius:6px; }

/* Mobile responsive */
@media (max-width:768px) {
  body { font-size:16px; padding:10px; }
  main { padding:10px; }
  .box { margin:10px 0; }
  button { width:100%; font-size:16px; }
}
</style>
</head>
<body>

<header>
  <h1>ü§ñ LinkBotLabs AI Playground</h1>
  <p>1 Hour Demo ‚Äî Unlock more with Playground Playtime üíñ</p>
</header>

<main>
  <!-- AI Model Selector -->
  <div class="box">
    <h2>Choose AI Model</h2>
    <select id="modelSelect">
      <option value="gpt-5-nano">GPT-5 Nano (fast, light)</option>
      <option value="gpt-5-mini">GPT-5 Mini (balanced)</option>
      <option value="gpt-5">GPT-5 Full (strongest)</option>
      <option value="gpt-4-1-mini">GPT-4.1 Mini</option>
      <option value="gpt-4-1">GPT-4.1</option>
    </select>
  </div>

  <!-- Chat -->
  <div class="box">
    <h2>Chat with AI</h2>
    <textarea id="chatInput" rows="3" placeholder="Say something..."></textarea>
    <button onclick="sendChat()">Send</button>
    <button onclick="speakLast()">üîä Speak Last Reply</button>
    <button onclick="startMic()">üé§ Speak to AI</button>
    <div id="chatOutput" style="margin-top:10px;"></div>
  </div>

  <!-- Image Generator -->
  <div class="box">
    <h2>Generate Image</h2>
    <input type="text" id="imgPrompt" placeholder="Enter image idea...">
    <button onclick="genImage()">Generate</button>
    <div id="generatedImages"></div>
    <p style="margin-top:10px;">üîó <a href="https://puter.com/app/puter-image-generator" target="_blank">Open full Image Generator app</a></p>
  </div>

</main>

<!-- DEMO SPLASH -->
<div id="demoSplash" class="splash" style="display:flex;">
  <h1>üéâ Welcome to Playground Demo</h1>
  <p>You have <b>60 minutes</b> of free AI playtime.</p>
  <button onclick="closeDemoSplash()">Start Exploring üöÄ</button>
</div>

<!-- DONATION SPLASH -->
<div id="donationSplash" class="splash">
  <h1>üíñ Playground Playtime Unlocked</h1>
  <p>Your demo has ended. To keep exploring, support us with a small donation.</p>
  <a href="https://wise.com/pay/me/davids14542" target="_blank">
    <button>Donate & Unlock</button>
  </a>

  <!-- ZIP download -->
  <div style="margin-top:20px; text-align:center;">
    <h3>üì¶ Download Playground ZIP</h3>
    <p>Get a full copy of this AI Playground to host yourself:</p>
    <button id="downloadZip">Download ZIP</button>
  </div>

  <div style="margin-top:20px; text-align:left; max-width:600px;">
    <h3>What you get:</h3>
    <ul>
      <li>Unlimited AI Playground access</li>
      <li>Image + Chat + Speech + Analysis tools</li>
      <li>Cloud hosting + Virtual desktop + Apps</li>
      <li>ZIP download of this Playground</li>
    </ul>
    <h3>How to host your own site:</h3>
    <ol>
      <li>Download & unzip the Playground package.</li>
      <li>Rename <code>index.html</code>.</li>
      <li>Place it in a folder on <a href="https://puter.com" target="_blank">Puter.com</a> Virtual Desktop.</li>
      <li>Right-click ‚Üí <b>Publish to Website</b>.</li>
      <li>Share your new mirror site URL to earn & grow üöÄ</li>
    </ol>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script>
// --- Current AI Model ---
function getModel() { return document.getElementById("modelSelect").value; }

// --- AI Chat ---
let lastReply = "";
async function sendChat() {
  let input = document.getElementById("chatInput").value;
  if (!input.trim()) return;
  let out = document.getElementById("chatOutput");
  out.innerHTML += `<p><b>You:</b> ${input}</p>`;
  document.getElementById("chatInput").value = "";
  let reply = "";
  await puter.ai.chat(input, { model: getModel(), stream: true, onStream: (chunk) => {
    reply += chunk;
    out.innerHTML = out.innerHTML.replace(/<p style="color:#0af;"><b>AI:<\/b>.*<\/p>$/, "");
    out.innerHTML += `<p style="color:#0af;"><b>AI:</b> ${reply}</p>`;
  }});
  lastReply = reply;
}

// --- AI Speech ---
async function speakLast() {
  if (!lastReply) return;
  let audio = await puter.ai.speech(lastReply, { voice: "moirai:en_ie", model: getModel() });
  let player = new Audio(audio); player.play();
}

// --- AI Speech Recognition ---
async function startMic() {
  if (!navigator.mediaDevices) { alert("Mic not supported"); return; }
  let stream = await navigator.mediaDevices.getUserMedia({ audio: true });
  let recorder = new MediaRecorder(stream); let chunks = [];
  recorder.ondataavailable = e => chunks.push(e.data);
  recorder.onstop = async () => {
    let blob = new Blob(chunks, { type: 'audio/webm' });
    let text = await puter.ai.transcribe(blob, { model: getModel() });
    document.getElementById("chatInput").value = text;
  };
  recorder.start();
  setTimeout(() => recorder.stop(), 5000);
}

// --- AI Image ---
async function genImage() {
  let prompt = document.getElementById("imgPrompt").value;
  if (!prompt.trim()) return;
  let out = document.getElementById("generatedImages");
  out.innerHTML = "<p>‚è≥ Generating...</p>";
  let img = await puter.ai.image(prompt, { model: "stable-diffusion" });
  out.innerHTML = `<img src="${img}" alt="Generated Image">`;
}

// --- Demo Splash ---
function closeDemoSplash() { document.getElementById("demoSplash").style.display = "none"; startDemoTimer(); }

// --- DEMO TIMER + FUN NOTIFICATIONS ---
let demoMinutes = 60; let interval = 10; let elapsed = 0; let demoTimer;
let funMessages = [
  "‚ö° Zing! 10 minutes gone already. Your AI‚Äôs still wide awake!",
  "üé® 20 minutes in ‚Äî maybe try an image or a chat combo?",
  "ü§ñ 30 minutes ‚Äî look at you go, AI whisperer!",
  "üïπÔ∏è 40 minutes ‚Äî you‚Äôre officially an AI power user!",
  "üéØ 50 minutes‚Ä¶ time flies when you‚Äôre having fun in Playground!",
];
function startDemoTimer() {
  demoTimer = setInterval(() => {
    elapsed += interval;
    if (elapsed < demoMinutes) {
      let msgIndex = (elapsed / interval) - 1;
      showNotification(funMessages[msgIndex] || `‚è∞ ${elapsed} minutes passed. Keep exploring!`);
    } else { clearInterval(demoTimer); endDemo(); }
  }, interval * 60000);
}

function endDemo() {
  showNotification("üö™ Demo ended. Time to unlock full Playground Playtime üíñ");
  document.getElementById("donationSplash").style.display = "flex";
}

// --- Notification Box ---
function showNotification(message) {
  let note = document.createElement("div");
  note.innerText = message;
  note.style.position = "fixed"; note.style.bottom = "20px"; note.style.right = "20px";
  note.style.padding = "12px 18px"; note.style.background = "rgba(0,0,0,0.85)";
  note.style.color = "#fff"; note.style.border = "2px solid #ff007a";
  note.style.borderRadius = "8px"; note.style.zIndex = "2000"; note.style.fontSize = "14px";
  note.style.maxWidth = "260px"; note.style.boxShadow = "0 0 10px rgba(255,0,122,0.7)";
  document.body.appendChild(note);
  setTimeout(() => { note.style.transition = "opacity 1s"; note.style.opacity = "0"; setTimeout(() => note.remove(), 1000); }, 7000);
}

// --- ZIP Download from GitHub ---
document.getElementById("downloadZip").addEventListener("click", async () => {
  const zip = new JSZip();
  const response = await fetch("https://raw.githubusercontent.com/prodpick4u/-linkbotlabs/refs/heads/main/docs/ai-starter.html");
  const htmlContent = await response.text();
  zip.file("index.html", htmlContent);
  const content = await zip.generateAsync({ type: "blob" });
  const link = document.createElement("a");
  link.href = URL.createObjectURL(content);
  link.download = "LinkBotLabs_Playground.zip";
  link.click();
});
</script>

<footer style="text-align:center; padding:15px; font-size:0.9em; color:#aaa; background:#1a1a2e;">
  ¬© 2025 LinkBotLabs ‚Ä¢ Powered by <a href="https://puter.com" target="_blank" style="color:#ff007a;">Puter AI</a>
</footer>

</body>
</html>
