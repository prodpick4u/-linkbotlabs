<div id="chatBox"><div>ü§ñ Ready to chat...</div></div>
<textarea id="userInput"></textarea>
<button id="sendBtn">Send</button>

<script src="https://js.puter.com/v2/"></script>
<script>
window.addEventListener('load', () => {
    const puter = new Puter();
    const chatBox = document.getElementById('chatBox');
    const input = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');

    function addMessage(text, sender){
        const div = document.createElement('div');
        div.textContent = text;
        div.className = sender;
        chatBox.appendChild(div);
        chatBox.scrollTop = chatBox.scrollHeight;
    }

    sendBtn.addEventListener('click', async () => {
        const query = input.value.trim();
        if(!query) return;
        input.value = '';
        addMessage(query, 'user');
        addMessage('‚è≥ Thinking...', 'assistant');

        try {
            const response = await puter.ai.chat(query, { model: 'gpt-5-nano' });
            const text = typeof response === 'string' ? response : response?.text ?? 'No response';
            chatBox.querySelector('.assistant:last-child').textContent = text;
        } catch (err) {
            chatBox.querySelector('.assistant:last-child').textContent = '‚ö†Ô∏è Error: ' + err;
        }
    });
});
</script>
