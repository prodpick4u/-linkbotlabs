<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Puter Image Generator on GitHub</title>
<script src="https://js.puter.com/v2/"></script>
<style>
    body { font-family: Arial, sans-serif; text-align: center; margin:0; padding:20px; background:#f4f4f4; }
    h1 { color:#333; }
    .box { background: rgba(0,0,0,0.05); padding:20px; border-radius:8px; margin:20px auto; max-width:500px; }
    input, select { width:100%; padding:10px; margin:5px 0; border-radius:5px; border:none; box-sizing:border-box; }
    button { padding:12px 20px; border:none; border-radius:5px; cursor:pointer; background:#007bff; color:#fff; margin-top:10px; width:100%; }
    button:hover { background:#0056b3; }
    #generatedImages img { max-width:100%; margin:10px 0; border-radius:6px; }
</style>
</head>
<body>

<h1>Generate Images with Puter AI</h1>

<div class="box">
    <input id="imgPrompt" placeholder="Describe your image...">
    <select id="imgModel">
        <option value="puter">Puter AI</option>
        <option value="stable-diffusion">Stable Diffusion</option>
        <option value="flux">Flux</option>
        <option value="dalle-mini">DALL-E Mini</option>
    </select>
    <input type="number" id="imgWidth" placeholder="Width (default 512)">
    <input type="number" id="imgHeight" placeholder="Height (default 512)">
    <input type="number" id="imgSeed" placeholder="Seed (optional)">
    <label><input type="checkbox" id="removeWatermark"> Remove Watermark</label>
    <button onclick="genImage()">Generate Image</button>
    <button onclick="clearImages()">Clear All</button>
</div>

<div id="generatedImages"></div>

<script>
async function genImage(){
    const prompt = document.getElementById("imgPrompt").value.trim();
    const model = document.getElementById("imgModel").value;
    const width = document.getElementById("imgWidth").value || 512;
    const height = document.getElementById("imgHeight").value || 512;
    const seed = document.getElementById("imgSeed").value || undefined;
    const removeWM = document.getElementById("removeWatermark").checked;

    const out = document.getElementById("generatedImages");
    out.innerHTML = "⏳ Generating...";
    try {
        const img = await puter.ai.txt2img(prompt, {model, width, height, seed, removeWatermark: removeWM});
        const imgEl = document.createElement("img");
        imgEl.src = img;
        out.prepend(imgEl);
    } catch(err){
        out.innerHTML = "❌ Error generating image.";
        console.error(err);
    }
}

function clearImages(){
    document.getElementById("generatedImages").innerHTML = "";
}
</script>

</body>
</html>
