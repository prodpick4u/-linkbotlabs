<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Prodpick4u Demo</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" />
  <style>
    body {
      margin: 0;
      padding: 2rem;
      background: linear-gradient(-45deg, #20002c, #6f00ff, #0a0a2a, #001f4d);
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
      color: #ffffff;
      font-family: 'Inter', sans-serif;
    }
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    h1, h2 { color: #00ffaa; }
    .glass {
      background: rgba(0,0,0,0.5);
      backdrop-filter: blur(10px);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 1rem;
    }
    input {
      display: block;
      width: 100%;
      margin: 8px 0 12px;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid rgba(255,255,255,0.1);
      background: rgba(20,20,20,0.7);
      color: #fff;
    }
    button {
      padding: 10px 20px;
      background: #00ffaa;
      border: none;
      border-radius: 5px;
      font-weight: bold;
      color: #000;
      cursor: pointer;
    }
    button:hover { background: #00cc88; }
    .output {
      background: rgba(0,0,0,0.8);
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      font-family: monospace;
      color: #0f0;
      white-space: pre-wrap;
    }
    .tabs { display: flex; gap: 1rem; margin-bottom: 1rem; }
    .tab {
      padding: 10px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
      background: rgba(0,0,0,0.5);
      color: #00ffaa;
    }
    .tab.active { background: #00ffaa; color: #000; }
    .tab-content { display: none; }
    .tab-content.active { display: block; }
  </style>
</head>
<body>

  <h1>üß™ Prodpick4U Demo</h1>
  <p>Try our product ‚Üí script ‚Üí TTS generator. Choose below:</p>

  <div class="tabs">
    <div class="tab active" onclick="switchTab('lite')">‚ö° Quick Try (No Keys)</div>
    <div class="tab" onclick="switchTab('full')">üîë Full Demo (With Keys)</div>
  </div>

  <!-- Lite Demo -->
  <div id="lite" class="tab-content active glass">
    <h2>‚ö° Quick Try (No Keys Needed)</h2>
    <form onsubmit="runLiteDemo(event)">
      <label>Keyword:
        <input id="liteKeyword" type="text" placeholder="e.g. headphones" required>
      </label>
      <button type="submit">Run Demo</button>
    </form>
    <div id="liteOutput" class="output"></div>
  </div>

  <!-- Full Demo -->
  <div id="full" class="tab-content glass">
    <h2>üîë Full Demo (With Keys)</h2>
    <form onsubmit="runFullDemo(event)">
      <label>Keyword:
        <input id="fullKeyword" type="text" placeholder="e.g. headphones" required>
      </label>
      <label>Amazon Affiliate Tag:
        <input id="affiliate" type="text" placeholder="yourtag-20" required>
      </label>
      <label>Amazon API Key:
        <input id="amazonKey" type="text" placeholder="AKIA..." required>
      </label>
      <label>YouTube API Key:
        <input id="ytapi" type="text" placeholder="AIza..." required>
      </label>
      <button type="submit">Run Full Demo</button>
    </form>
    <div id="fullOutput" class="output"></div>
  </div>

  <script>
    // --- Tab Switcher ---
    function switchTab(tab) {
      document.querySelectorAll(".tab").forEach(el => el.classList.remove("active"));
      document.querySelectorAll(".tab-content").forEach(el => el.classList.remove("active"));
      document.querySelector(".tab[onclick*='" + tab + "']").classList.add("active");
      document.getElementById(tab).classList.add("active");
    }

    // --- Fake Product DB for Demo ---
    const demoProducts = [
      { keywords:["headphones","earphones"], asin:"B09JQZ5T4S", name:"Sony WH-1000XM5 Noise Cancelling Headphones" },
      { keywords:["vacuum","robot","hoover"], asin:"B0XYZ123", name:"Robot Vacuum X20+" },
      { keywords:["moisturizer","skincare"], asin:"B01N1SE4EP", name:"La Roche-Posay Toleriane Double Repair Face Moisturizer" }
    ];
    const fallback = [
      { asin:"B07FZ8S74R", name:"Echo Dot (4th Gen)" },
      { asin:"B08KTZ8249", name:"Kindle Paperwhite" }
    ];

    function findProduct(keyword) {
      keyword = keyword.toLowerCase();
      for (let p of demoProducts) {
        if (p.keywords.some(k => keyword.includes(k))) return p;
      }
      return fallback[Math.floor(Math.random()*fallback.length)];
    }

    // --- Lite Demo (no keys) ---
    function runLiteDemo(e) {
      e.preventDefault();
      const kw = document.getElementById("liteKeyword").value;
      const product = findProduct(kw);
      const description = `The ${product.name} is a popular choice on Amazon. It offers great features and value for money.`;
      const script = `Hi everyone! Today we're reviewing the ${product.name}.`;

      document.getElementById("liteOutput").innerHTML = `
üõí Product: ${product.name}
üìù Description: ${description}
üé¨ Script: ${script}
<button onclick="speakText('${description.replace(/'/g,"")}')">üîä TTS Preview</button>
      `;
    }

    // --- Full Demo (with keys, simulated fetch) ---
    function runFullDemo(e) {
      e.preventDefault();
      const kw = document.getElementById("fullKeyword").value;
      const affiliate = document.getElementById("affiliate").value.trim();
      const amazonKey = document.getElementById("amazonKey").value.trim();
      const ytKey = document.getElementById("ytapi").value.trim();

      const product = findProduct(kw);
      const link = `https://www.amazon.com/dp/${product.asin}?tag=${encodeURIComponent(affiliate)}`;
      const description = `The ${product.name} is a highly rated product. Normally we‚Äôd fetch live details with your Amazon API key (${amazonKey.substring(0,6)}...).`;
      const script = `Hi everyone! Today we're reviewing the ${product.name}. Grab yours here: ${link}`;

      document.getElementById("fullOutput").innerHTML = `
‚úÖ Affiliate Tag: ${affiliate}
‚úÖ Amazon Key: ${amazonKey.substring(0,6)}... (hidden)
‚úÖ YouTube Key: ${ytKey.substring(0,6)}... (hidden)

üõí Product: <a href="${link}" target="_blank">${product.name}</a>
üìù Description: ${description}
üé¨ Script: ${script}
<button onclick="speakText('${description.replace(/'/g,"")}')">üîä TTS Preview</button>
      `;
    }

    // --- Simple browser TTS ---
    function speakText(text) {
      const utter = new SpeechSynthesisUtterance(text);
      utter.voice = speechSynthesis.getVoices().find(v=>v.lang.includes("en")) || null;
      speechSynthesis.speak(utter);
    }
  </script>

</body>
</html>
