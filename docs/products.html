<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Product Hub â€“ Multi-AI Powered</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body { margin:0; font-family:'Inter',sans-serif; background:linear-gradient(135deg,#0a0033,#2b0066,#5c00b3,#7f33ff); background-size:400% 400%; animation:gradientShift 15s ease infinite; color:#fff; }
@keyframes gradientShift{0%{background-position:0% 50%;}25%{background-position:50% 50%;}50%{background-position:100% 50%;}75%{background-position:50% 50%;}100%{background-position:0% 50%;}}
h1,h2{text-align:center;margin:30px 0 10px;font-weight:700;letter-spacing:1px;}
h1{font-size:2rem;} h2{font-size:1.6rem;margin-top:40px;}
.banner{text-align:center;margin:0 20px 20px;padding:12px;background: rgba(255,255,255,0.15);border-radius:12px;font-weight:600; display:block;}
.controls{display:flex; justify-content:center; margin-bottom:30px; gap:10px;}
#searchBox{padding:12px 16px;border-radius:8px;border:none;width:300px;font-size:14px;outline:none;}
.split-container{display:flex;justify-content:space-between;flex-wrap:wrap;padding:0 20px;}
.split{flex:1; min-width:300px; margin:10px;}
.products-grid{display:flex; flex-direction:column; gap:12px; margin-bottom:40px;}
.card{background:rgba(255,255,255,0.08);backdrop-filter:blur(12px);border-radius:16px;padding:15px;display:flex;flex-direction:column;justify-content:space-between;box-shadow:0 8px 24px rgba(0,0,0,0.4);transition:transform 0.2s, box-shadow 0.2s;}
.card:hover{transform:translateY(-4px); box-shadow:0 12px 28px rgba(0,0,0,0.6);}
.product-title{font-weight:700;font-size:16px;margin-bottom:6px;color:#fff;}
.product-price{color:#d4cfff;font-weight:600;margin-bottom:6px;}
.product-desc{font-size:13px;color:#eee;flex-grow:1;line-height:1.4;margin-bottom:8px;}
.view-btn{padding:10px;background:linear-gradient(135deg,#5c00b3,#7f33ff);color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:600;text-align:center;text-decoration:none;transition:all 0.2s;}
.view-btn:hover{opacity:0.85; transform:translateY(-2px);}
.category-title{text-align:center;font-weight:700;margin:15px 0;font-size:18px;}
.dropdown-container{display:flex;justify-content:center;gap:20px;margin-bottom:40px;flex-wrap:wrap;}
.dropdown-container select{padding:10px 14px;border-radius:8px;border:none;font-size:14px;cursor:pointer;}
.header-note{text-align:center;margin:20px;font-size:14px;color:#ddd;}
#chatButton{position:fixed;bottom:20px;right:20px;background:#7f33ff;border:none;border-radius:50%;width:60px;height:60px;font-size:24px;color:#fff;cursor:pointer;z-index:9999;}
#chatPanel{position:fixed;bottom:90px;right:20px;width:300px;max-height:400px;background:rgba(0,0,0,0.85);backdrop-filter:blur(10px);border-radius:12px;display:none;flex-direction:column;overflow:hidden;z-index:9999;}
#chatPanel header{background:#5c00b3;padding:10px;text-align:center;font-weight:700;}
#chatPanel .messages{flex:1;padding:10px;overflow-y:auto;font-size:13px;}
#chatPanel input{padding:8px 10px;border:none;border-radius:8px;margin:10px;width:calc(100% - 40px);}
@media(max-width:900px){.split-container{flex-direction:column;}}
</style>
</head>
<body>

<div id="affiliateBanner" class="banner">Welcome to AI Product Hub!</div>
<h1>AI Product Hub â€“ Multi-AI Powered</h1>
<p class="header-note">Every product, review, tip, and chat is enhanced by GPT-5, Claude, Grok, Gemini via Puter.js.</p>

<div class="controls">
<input type="text" id="searchBox" placeholder="Search products...">
</div>

<div class="split-container">
<div class="split" id="amazon-side">
<h2 class="category-title">Amazon Products</h2>
<div class="products-grid" id="amazon-products"></div>
</div>
<div class="split" id="temu-side">
<h2 class="category-title">Temu Products</h2>
<div class="products-grid" id="temu-products"></div>
</div>
</div>

<!-- Chat / AI interaction -->
<button id="chatButton">ðŸ’¬</button>
<div id="chatPanel">
<header>Ask Multi-AI</header>
<div class="messages" id="chatMessages"></div>
<input type="text" id="chatInput" placeholder="Type your question...">
</div>

<script src="https://js.puter.com/v2/"></script>
<script>
const puter = new Puter({debug:true});

// Sample fallback products
let AMAZON_PRODUCTS = [
{title:"Instant Pot Duo 7-in-1", price:"$89", category:"kitchen"},
{title:"Air Fryer", price:"$279", category:"kitchen"},
{title:"KitchenAid Mixer", price:"$379", category:"kitchen"}
];
let TEMU_PRODUCTS = [
{title:"Multi Rice Cooker", price:"Varies", category:"kitchen"},
{title:"Foldable Kettle", price:"Varies", category:"kitchen"},
{title:"Food Processor", price:"Varies", category:"kitchen"}
];

// Generate AI description
async function getDescription(product){
    try{
        const resp = await puter.ai.chat(`Generate a catchy product description for "${product.title}" with deals & trends.`, {model:"gpt-5-nano"});
        product.desc = resp.text || "No description available";
    }catch{ product.desc = "AI description unavailable"; }
}

// Generate AI image
async function getImage(product){
    try{
        const imgEl = await puter.ai.txt2img(`High-quality image of ${product.title}, white background`);
        return imgEl;
    }catch{
        const fallback = document.createElement("img");
        fallback.src="https://via.placeholder.com/220x140.png?text=Product";
        return fallback;
    }
}

// Render products
async function renderProducts(products, containerId){
    const container = document.getElementById(containerId);
    container.innerHTML="";
    for(const p of products){
        await getDescription(p);
        const card = document.createElement("div");
        card.className="card";
        const imgEl = await getImage(p);
        card.appendChild(imgEl);
        card.innerHTML += `
            <div class="product-title">${p.title}</div>
            <div class="product-price">${p.price}</div>
            <div class="product-desc">${p.desc}</div>
            <a href="#" class="view-btn">View Product</a>
        `;
        container.appendChild(card);
    }
}

// Initial render
(async function(){
    await renderProducts(AMAZON_PRODUCTS, "amazon-products");
    await renderProducts(TEMU_PRODUCTS, "temu-products");
})();

// Search
document.getElementById("searchBox").addEventListener("input", e=>{
    const q = e.target.value.toLowerCase();
    renderProducts(AMAZON_PRODUCTS.filter(p=>p.title.toLowerCase().includes(q)), "amazon-products");
    renderProducts(TEMU_PRODUCTS.filter(p=>p.title.toLowerCase().includes(q)), "temu-products");
});

// Chat
const chatButton = document.getElementById("chatButton");
const chatPanel = document.getElementById("chatPanel");
const chatMessages = document.getElementById("chatMessages");
const chatInput = document.getElementById("chatInput");

chatButton.addEventListener("click", ()=>{chatPanel.style.display=(chatPanel.style.display==="flex"?"none":"flex"); chatPanel.style.flexDirection="column";});

chatInput.addEventListener("keypress", async e=>{
    if(e.key==="Enter" && chatInput.value.trim()!==""){
        const msg = chatInput.value.trim();
        chatMessages.innerHTML += `<div style="margin-bottom:8px;"><strong>You:</strong> ${msg}</div>`;
        chatInput.value=""; chatMessages.scrollTop=chatMessages.scrollHeight;
        try{
            const models=["gpt-5","claude","grok-4","gemini"];
            const responses = await Promise.all(models.map(m=>puter.ai.chat(msg,{model:m})));
            const allTexts = responses.map(r=>r.text.split(/[\.\!\?]/).map(s=>s.trim()).filter(Boolean)).flat();
            const freq={}; allTexts.forEach(s=>freq[s]=(freq[s]||0)+1);
            const consensus = Object.entries(freq).filter(([s,c])=>c>1).map(([s])=>s).join('. ') + (allTexts.length?'.':'');
            const botHtml = responses.map(r=>`<p>${r.text}</p>`).join('') + `<p style="color:#0ff;"><strong>Consensus:</strong> ${consensus}</p>`;
            chatMessages.innerHTML += `<div style="margin-bottom:8px;"><strong>AI:</strong> ${botHtml}</div>`;
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }catch{ chatMessages.innerHTML += `<div style="margin-bottom:8px;color:red;">AI Error</div>`; }
    }
});
</script>
</body>
</html>
