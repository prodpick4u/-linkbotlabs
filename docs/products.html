<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LinkBotLabs ‚Äì AI Product Showcase</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body {
    margin:0;
    font-family:'Inter',sans-serif;
    background:linear-gradient(135deg,#0a0033,#2b0066,#5c00b3,#7f33ff);
    background-size:400% 400%;
    animation:gradientShift 15s ease infinite;
    color:#fff;
}
@keyframes gradientShift{
    0%{background-position:0% 50%;}
    25%{background-position:50% 50%;}
    50%{background-position:100% 50%;}
    75%{background-position:50% 50%;}
    100%{background-position:0% 50%;}
}
h1,h2 {text-align:center;margin:30px 0 10px;font-weight:700;letter-spacing:1px;}
h1{font-size:2rem;}
h2{font-size:1.6rem;margin-top:40px;}
.banner {text-align:center;margin:0 20px 20px;padding:12px;background: rgba(255,255,255,0.15);border-radius:12px;font-weight:600;display:block;}
.controls {display:flex;justify-content:center;margin-bottom:30px;}
#searchBox {padding:12px 16px;border-radius:8px;border:none;width:300px;font-size:14px;outline:none;}
.split-container {display:flex;justify-content:space-between;flex-wrap:wrap;padding:0 20px;}
.split {flex:1;min-width:300px;margin:10px;}
.products-grid {display:flex;flex-direction:column;gap:12px;margin-bottom:40px;}
.card {background:rgba(255,255,255,0.08);backdrop-filter:blur(12px);border-radius:16px;padding:15px;display:flex;flex-direction:column;justify-content:space-between;box-shadow:0 8px 24px rgba(0,0,0,0.4);transition:transform 0.2s, box-shadow 0.2s;}
.card:hover {transform:translateY(-4px);box-shadow:0 12px 28px rgba(0,0,0,0.6);}
.product-title {font-weight:700;font-size:16px;margin-bottom:6px;color:#fff;}
.product-price {color:#d4cfff;font-weight:600;margin-bottom:6px;}
.product-desc {font-size:13px;color:#eee;flex-grow:1;line-height:1.4;margin-bottom:8px;}
.view-btn {padding:10px;background:linear-gradient(135deg,#5c00b3,#7f33ff);color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:600;text-align:center;text-decoration:none;transition:all 0.2s;}
.view-btn:hover {opacity:0.85;transform:translateY(-2px);}
.category-title {text-align:center;font-weight:700;margin:15px 0;font-size:18px;}
.dropdown-container {display:flex;justify-content:center;gap:20px;margin-bottom:40px;flex-wrap:wrap;}
.dropdown-container select {padding:10px 14px;border-radius:8px;border:none;font-size:14px;cursor:pointer;}
.header-note {text-align:center;margin:20px;font-size:14px;color:#ddd;}
.glass{background: rgba(0,0,0,0.5); backdrop-filter: blur(10px); border-radius:12px; padding:15px; margin-bottom:1rem;}
@media(max-width:900px){ .split-container{flex-direction:column;} }
</style>
</head>
<body>

<div class="banner">
    <img src="-linkbotlabs/docs/9950FA69-865E-4707-AB91-B7CB65C501BF.png" alt="LinkBotLabs Logo" style="height:50px;">
</div>

<h1>Explore AI-Powered Best Selling Products</h1>
<p class="header-note">
Dynamic product showcase powered by AI. All links use your affiliate ID. Weekly top-selling updates automatically refresh.
</p>

<div class="glass">
<h2>üîí Affiliate Access</h2>
<p>Enter access code to join the program and register your affiliate ID:</p>
<input type="text" id="accessCode" placeholder="Enter code">
<button onclick="checkAccessCode()">Unlock Access</button>
<div id="accessOutput" class="output"></div>
</div>

<div id="affiliateFormSection" class="glass" style="display:none;">
<h2>üìù Register Your Affiliate ID</h2>
<input type="text" id="userAffiliate" placeholder="Your affiliate ID">
<button onclick="saveAffiliate()">Activate</button>
<div id="regOutput" class="output"></div>
</div>

<div class="controls">
    <input type="text" id="searchBox" placeholder="Search products..." onkeyup="filterProducts()">
</div>

<div class="split-container">
    <div class="split" id="amazon-side">
        <h2 class="category-title">Amazon Products</h2>
        <div class="products-grid" id="amazon-products"></div>
    </div>
    <div class="split" id="temu-side">
        <h2 class="category-title">Temu Products</h2>
        <div class="products-grid" id="temu-products"></div>
    </div>
</div>

<div class="dropdown-container">
    <div>
        <label for="amazon-categories">Amazon Categories:</label>
        <select id="amazon-categories" onchange="renderProducts()">
            <option value="kitchen">Kitchen</option>
            <option value="tech">Tech</option>
            <option value="beauty">Beauty</option>
            <option value="health">Health</option>
        </select>
    </div>
    <div>
        <label for="temu-categories">Temu Categories:</label>
        <select id="temu-categories" onchange="renderProducts()">
            <option value="kitchen">Kitchen</option>
            <option value="tech">Tech</option>
            <option value="beauty">Beauty</option>
            <option value="health">Health</option>
        </select>
    </div>
</div>

<script src="https://js.puter.com/v2/"></script>
<script>
const puter = new Puter({ debug:true });

// Affiliate logic
let AFFILIATE_TAG = localStorage.getItem('affiliateTag') || "mychanneld-20";
const VALID_CODES = ["starter123","user456","demo789"];

function checkAccessCode(){
    const code = document.getElementById("accessCode").value.trim();
    if(VALID_CODES.includes(code)){
        document.getElementById("affiliateFormSection").style.display="block";
        document.getElementById("accessOutput").innerText="‚úÖ Access granted! Register your affiliate ID.";
    } else {
        document.getElementById("accessOutput").innerText="‚ùå Invalid code.";
    }
}

function saveAffiliate(){
    const tag = document.getElementById("userAffiliate").value.trim();
    if(tag){
        AFFILIATE_TAG = tag;
        localStorage.setItem('affiliateTag', tag);
        document.getElementById("regOutput").innerText = `‚úÖ Affiliate tag "${tag}" saved!`;
        document.getElementById("affiliateBanner")?.innerText = `‚úÖ Active Affiliate: ${tag}`;
    }
}

// Sample product arrays
let AMAZON_PRODUCTS = [
    {title:"Instant Pot Duo 7-in-1", price:"$89", desc:"Multi-functional cooker.", url:"https://amzn.to/45IyLkt"},
    {title:"Air Fryer", price:"$279", desc:"Healthy frying alternative.", url:"https://amzn.to/3JogHVi"},
    {title:"KitchenAid Mixer", price:"$379", desc:"Stand mixer for baking.", url:"https://amzn.to/3HHSZmj"}
];

let TEMU_PRODUCTS = [
    {title:"Multi Rice Cooker", price:"Varies", desc:"Cook rice easily.", url:"https://share.temu.com/jwZL6Tbh2SB"},
    {title:"Foldable Kettle", price:"Varies", desc:"Compact kettle.", url:"https://share.temu.com/GZe6nSeHcEB"},
    {title:"Food Processor", price:"Varies", desc:"Chop and blend food.", url:"https://share.temu.com/xnKAVQF3V7B"}
];

// Render products
function renderProducts(){
    const amazonContainer = document.getElementById("amazon-products");
    const temuContainer = document.getElementById("temu-products");
    amazonContainer.innerHTML = "";
    temuContainer.innerHTML = "";

    for(let p of AMAZON_PRODUCTS){
        amazonContainer.appendChild(createProductCard(p));
    }
    for(let p of TEMU_PRODUCTS){
        temuContainer.appendChild(createProductCard(p));
    }
}

// Create individual product card
function createProductCard(p){
    const card = document.createElement("div");
    card.className = "card";
    const title = document.createElement("div"); title.className="product-title"; title.innerText=p.title;
    const price = document.createElement("div"); price.className="product-price"; price.innerText=p.price;
    const desc = document.createElement("div"); desc.className="product-desc"; desc.innerText=p.desc;
    const btnAI = document.createElement("button"); 
    btnAI.className="view-btn"; 
    btnAI.innerText="Generate AI Description"; 
    btnAI.onclick = ()=>askNano(p, desc, btnAI);

    const link = document.createElement("a");
    link.href = p.url.includes("?") ? `${p.url}&tag=${AFFILIATE_TAG}` : `${p.url}?tag=${AFFILIATE_TAG}`;
    link.target="_blank";
    link.className="view-btn";
    link.innerText="View Product";

    card.appendChild(title);
    card.appendChild(price);
    card.appendChild(desc);
    card.appendChild(btnAI);
    card.appendChild(link);
    return card;
}

// AI Description generation
async function askNano(product, descDiv, btn){
    btn.disabled = true;
    btn.innerText = "Generating...";
    try{
        const res = await puter.ai.chat(`Write a creative 2-sentence description for "${product.title}"`);
        if(res.text) {
            descDiv.innerText = res.text;
            const utter = new SpeechSynthesisUtterance(res.text);
            window.speechSynthesis.speak(utter);
        }
    } catch(e){ console.error("AI error:", e);}
    btn.disabled = false;
    btn.innerText = "Generate AI Description";
}

// Search filter
function filterProducts(){
    const term = document.getElementById("searchBox").value.toLowerCase();
    document.querySelectorAll(".products-grid .card").forEach(c=>{
        const title = c.querySelector(".product-title").innerText.toLowerCase();
        c.style.display = title.includes(term) ? "flex" : "none";
    });
}

window.onload = renderProducts;
</script>
</body>
</html>
