import requests
from bs4 import BeautifulSoup

def get_top_3_products(category_url: str):
    headers = {
        "User-Agent": "Mozilla/5.0"
    }
    response = requests.get(category_url, headers=headers)
    soup = BeautifulSoup(response.content, 'html.parser')

    product_elements = soup.select('div.p13n-sc-uncoverable-faceout')[:3]
    top_products = []

    for product in product_elements:
        title = product.select_one('._cDEzb_p13n-sc-css-line-clamp-3_g3dy1').text.strip()
        link = 'https://www.amazon.com' + product.select_one('a.a-link-normal')['href']
        image = product.select_one('img')['src']
        top_products.append({
            'title': title,
            'link': link,
            'image': image
        })

    return top_products

# Example usage
if __name__ == "__main__":
    kitchen_url = "https://www.amazon.com/Best-Sellers-Kitchen/zgbs/kitchen"
    products = get_top_3_products(kitchen_url)
    for product in products:
        print(product)
